<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1920, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dashboard Institucional - Rádio</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/tv-optimizations.css">
</head>

<body>
    <!-- Main Dashboard Container -->
    <main class="dashboard-container">

        <!-- Map Section (65% width) -->
        <section class="map-section" aria-label="Mapa do Brasil com cidades ativas">
            <div class="map-header">
                <div class="last-update">
                    <span class="update-label">Última atualização:</span>
                    <time id="lastUpdate" datetime="">--:--:--</time>
                </div>
            </div>

            <div class="map-container" id="mapContainer">
                <!-- Brazil SVG Map will be loaded here -->
                <div class="map-loading">Carregando mapa...</div>
            </div>

            <!-- Active Cities Overlay -->
            <div class="pings-container" id="pingsContainer" aria-live="polite">
                <!-- Animated pings will be added dynamically -->
            </div>
        </section>

        <!-- Metrics Sidebar (35% width) -->
        <aside class="metrics-sidebar" aria-label="Métricas em tempo real">

            <!-- 3 Métricas Principais -->
            <div class="metrics-grid">

                <!-- Campanhas do Mês -->
                <div class="metric-card metric-highlight">
                    <div class="metric-content">
                        <div class="metric-label">Campanhas do Mês</div>
                        <div class="metric-value">
                            <span class="number" id="campanhasDoMes" data-count="0">0</span>
                        </div>
                    </div>
                </div>

                <!-- Emissoras Ativas -->
                <div class="metric-card metric-secondary">
                    <div class="metric-content">
                        <div class="metric-label">Emissoras Ativas</div>
                        <div class="metric-value">
                            <span class="number" id="emissorasAtivasHoje" data-count="0">0</span>
                        </div>
                    </div>
                </div>

                <!-- Inserções Hoje -->
                <div class="metric-card metric-primary">
                    <div class="metric-content">
                        <div class="metric-label">Inserções Hoje</div>
                        <div class="metric-value">
                            <span class="number" id="insercoesHoje" data-count="0">0</span>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Inserções Recentes -->
            <section class="insertions-section">
                <h2 class="section-title">Inserções Recentes</h2>
                <div class="insertions-list" id="insertionsList" aria-live="polite">
                    <div class="list-loading">Carregando inserções...</div>
                </div>
                <div class="insertions-overflow" id="insertionsOverflow" style="display: none;">
                    <!-- Dinâmico via JS -->
                </div>
            </section>

            <!-- Status Indicator -->
            <div class="status-indicator" id="statusIndicator">
                <div class="status-dot status-loading"></div>
                <span class="status-text">Conectando...</span>
            </div>

        </aside>

    </main>

    <!-- Hidden elements for compatibility -->
    <div id="campanhasAtivasHoje" style="display:none;" data-count="0">0</div>
    <div id="cidadesAtivasHoje" style="display:none;" data-count="0">0</div>

    <!-- Error Toast (hidden by default) -->
    <div class="error-toast" id="errorToast" role="alert" aria-live="assertive">
        <span class="error-icon">⚠️</span>
        <span class="error-message"></span>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/api.js"></script>
    <script src="js/metrics.js"></script>
    <script src="js/map.js"></script>
    <script src="js/dashboard.js"></script>
</body>

</html>